{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Material Design for Bootstrap</title>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
  <!-- Google Fonts Roboto -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
  <!-- Material Design Bootstrap -->
  <link rel="stylesheet" href="{% static 'css/mdb.min.css' %}">
  <!-- Your custom styles (optional) -->
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body class="grey lighten-3">
  <header>
    <nav class="navbar fixed-top navbar-expand-lg navbar-light white scrolling-navbar">
      <div class="container-fluid">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarContent" 
        aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarContent">
          <ul class="navbar-nav">
            <li class="nav-item active">
              <a class="nav-link waves-effect" aria-current="page"  href="/users/user_profile/manager_dashboard/">Ученики</a>
            </li>
            <li class="nav-item">
              <a href="/users/user_profile/manager_documents/" class="nav-link waves-effect">Документация</a>
            </li>
            <li class="nav-item nav-item-logout">
              {% if user.is_authenticated %}
                  <a href="{% url 'logout' %}" class="nav-link img-exit">Выйти</a>
              {% else %}
                  <a href="{% url 'login' %}" class="nav-login" >Войти </a>|<a href="{% url 'register' %}" class="nav-login" > Зарегистрироваться</a>
              {% endif %}
              
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="sidebar-fixed position-fixed">
      <a href="" class="logo-wrapper">
        <img src="{% static 'img/logo.svg' %}" alt="logo" class="img-fluid logo">
        <!-- <img src="{% static 'img/logo.svg' %}" alt="logo" class="logo"> -->
      </a>

      <div class="list-group list-group-flush">
        <a href="/users/user_profile/manager_dashboard/" class="list-group-item waves-effect">
          <i class="fa fa-user mr-3"></i> Подтвердить регистрацию
        </a>
        <a href="/users/user_profile/manager_add_users_data/" class="list-group-item waves-effect active">
          <i class="fa fa-table mr-3"></i> Добавить данные
        </a>
      </div>
    </div>
  </header>

    <main class="pt-5 max-lg-5">
        <div class="container-fluid mt-5">
            <div class="card mb-4 wow fadeIn">
                <div class="card body d-sm-flex justify-content-between card-manager">
                    <h4 class="mb-2 mb-sm-0 pt-1 card-title">
                        <a href="#">Ученики</a>
                        <span> / </span>
                        <span>Добавить данные пользователя</span>
                    </h4>

                    <form method="post" class="add-data-form">
                        {% csrf_token %}
                        <div class="input-add-data">
                            <label class="form-label" for="{{form.passport_series.id_for_label}}">Серия паспорта</label>
                            {{form.passport_series}}
                            {{form.passport_series.errors}}
                        </div>
                        <div class="input-add-data">
                            <label class="form-label" for="{{form.passport_number.id_for_label}}">Номер паспорта</label>
                            {{form.passport_number}}
                            {{form.passport_number.errors}}
                        </div>
                        <div class="input-add-data">
                            <label class="form-label" for="{{form.group_number.id_for_label}}">Номер группы</label>
                            {{form.group_number}}
                            {{form.group_number.errors}}
                        </div>
                        <div class="input-add-data">
                            <label class="form-label" for="{{form.date_of_birth.id_for_label}}">Дата рождения</label>
                            <!-- {{form.date_of_birth}} -->
                            <input type="date" name="date_of_birth" id="id_date_of_birth">

                            {{form.date_of_birth.errors}}
                        </div>
                        <div class="input-add-data">
                          <label class="form-label" for="{{form.place_of_birth.id_for_label}}">Место рождения</label>
                          {{form.place_of_birth}}
                          {{form.place_of_birth.errors}}
                        </div>

                        <p class="note note-warning help-text"> Данные по прописке:  </p>
                        <div class="input-add-data">
                          <label class="form-label" for="{{form.region.id_for_label}}">Регион (область)</label>
                          {{form.region}}
                          {{form.region.errors}}
                        </div>
                        <div class="input-add-data">
                          <label class="form-label" for="{{form.city_or_village.id_for_label}}">Город / поселок</label>
                          {{form.city_or_village}}
                          {{form.city_or_village.errors}}
                        </div>
                        <div class="input-add-data">
                          <label class="form-label" for="{{form.street.id_for_label}}">Улица</label>
                          {{form.street}}
                          {{form.street.errors}}
                        </div>
                        <div class="row g-3 align-items-center input-row">
                          <div class="col-auto">
                            <label for="{{form.house.id_for_label}}" class="col-form-label">Дом</label>
                            {{form.house}}
                            <!-- <input type="text" class="form-control" name="house" maxlength="10" id="id_house"> -->
                          </div>
                          <div class="col-auto">
                            <label for="{{form.corps.id_for_label}}" class="col-form-label">Корпус</label>
                            {{form.corps}}
                            <!-- <input type="text" class="form-control" name="corps" maxlength="5" id="id_corps"> -->
                          </div>
                          <div class="col-auto">
                            <label for="{{form.apartment.id_for_label}}" class="col-form-label">Квартира</label>
                            <!-- <input type="text" class="form-control" name="apartment" maxlength="10" id="id_apartment"> -->
                            {{form.apartment}} 
                          </div>
                        </div>
                        <!-- {{ form.as_p }} -->
                        <button type="submit" class="btn btn-primary btn-users">Добавить</button>
                    </form>
                </div>
            </div>
        </div>
    </main>

  

  <!-- jQuery -->
  <script type="text/javascript" src="{% static 'js/jquery.min.js' %}"></script>
  <!-- Bootstrap tooltips -->
  <script type="text/javascript" src="{% static 'js/popper.min.js' %}"></script>
  <!-- Bootstrap core JavaScript -->
  <script type="text/javascript" src="{% static 'js/bootstrap.min.js' %}"></script>
  <!-- MDB core JavaScript -->
  <script type="text/javascript" src="{% static 'js/mdb.min.js' %}"></script>
  <!-- Your custom scripts (optional) -->
  <script>
    var user_data_date_of_birth = '{{ formatted_date }}';
    console.log(user_data_date_of_birth)

    var date_components = user_data_date_of_birth.split('-');
    console.log(date_components)

    var formatted_date_of_birth = date_components[1] + '.' + date_components[2] + '.' + date_components[0];
    console.log(formatted_date_of_birth)

    var date = new Date(Date.UTC(date_components[0], date_components[1] - 1, date_components[2]));
    console.log(date)

    document.getElementById('id_date_of_birth').valueAsDate = date;

    window.onload = function() {
      setTimeout(function() {
          let inputdb = document.getElementById('id_date_of_birth');
          inputdb.style.setProperty('color', '#000000c4', 'important');
      }, 100);
    };

  </script>

</body>
</html>
